}, simplify = T)
dir_path <- file.path("inst", "yaml")
list_yaml <- cargar_todos_yaml(dir_path)
list_R    <- lapply(list_yaml, yaml_2_R)
list_R    <- sapply(list_R, function(x){
vector_files <- x$file
vector_files[vector_files == ""] <- NA
vector_files
})
list_df_R <- lapply(list_R, as.data.frame)
list_df_R
list_df_R <- lapply(list_R, data.frame)
list_df_R
list_R
list_R[[1]]
list_R[[2]]
list_R[[1]]
library(yaml)
cargar_todos_yaml <- function(dir_path) {
archivos <- list.files(dir_path, pattern = "\\.yaml$", full.names = TRUE)
lista <- list()
for (arch in archivos) {
nombre <- basename(arch)
lista[[nombre]] <- yaml.load_file(arch)$choices
}
return(lista)
}
yaml_2_R <- function(choices){
# Extraer los vectores
vector_choice_external <- sapply(choices, function(x) x$choice_external)
vector_choice_internal <- sapply(choices, function(x) x$choice_internal)
vector_files <- sapply(choices, function(x) x$file)
vector_opt <- vector_choice_internal
names(vector_opt) <- vector_choice_external
# Crear una lista con los vectores
resultado <- list(
choice_external = vector_choice_external,
choice_internal = vector_choice_internal,
file = vector_files,
vector_opt = vector_opt
)
return(resultado)
}
dir_path <- file.path("inst", "yaml")
list_yaml <- cargar_todos_yaml(dir_path)
list_R    <- lapply(list_yaml, yaml_2_R)
list_R    <- sapply(list_R, function(x){
vector_files <- x$file
vector_files[vector_files == ""] <- NA
vector_files
})
list_df_R <- lapply(list_R, data.frame)
list_df_R
dir_path <- file.path("inst", "yaml")
list_yaml <- cargar_todos_yaml(dir_path)
list_R    <- lapply(list_yaml, yaml_2_R)
list_R    <- lapply(list_R, function(x){
vector_files <- x$file
vector_files[vector_files == ""] <- NA
vector_files
})
list_df_R <- lapply(list_R, data.frame)
list_df_R
list_df_R[[1]]
list_df_R[[2]]
library(yaml)
cargar_todos_yaml <- function(dir_path) {
archivos <- list.files(dir_path, pattern = "\\.yaml$", full.names = TRUE)
lista <- list()
for (arch in archivos) {
nombre <- basename(arch)
lista[[nombre]] <- yaml.load_file(arch)$choices
}
return(lista)
}
yaml_2_R <- function(choices){
# Extraer los vectores
vector_choice_external <- sapply(choices, function(x) x$choice_external)
vector_choice_internal <- sapply(choices, function(x) x$choice_internal)
vector_files <- sapply(choices, function(x) x$file)
vector_opt <- vector_choice_internal
names(vector_opt) <- vector_choice_external
# Crear una lista con los vectores
resultado <- list(
choice_external = vector_choice_external,
choice_internal = vector_choice_internal,
file = vector_files,
vector_opt = vector_opt
)
return(resultado)
}
dir_path <- file.path("inst", "yaml")
list_yaml <- cargar_todos_yaml(dir_path)
list_yaml
list_R    <- lapply(list_yaml, yaml_2_R)
list_R
lapply(list_R, as.data.frame)
dir_path <- file.path("inst", "yaml")
list_yaml <- cargar_todos_yaml(dir_path)
list_R    <- lapply(list_yaml, yaml_2_R)
list_R    <- lapply(list_R, function(x){
mi_list <- x
vector_files <- x$file
vector_files[vector_files == ""] <- NA
mi_list$file <- vector_files
mi_list
})
lapply(list_R, as.data.frame)
library(yaml)
cargar_todos_yaml <- function(dir_path) {
archivos <- list.files(dir_path, pattern = "\\.yaml$", full.names = TRUE)
lista <- list()
for (arch in archivos) {
nombre <- basename(arch)
lista[[nombre]] <- yaml.load_file(arch)$choices
}
return(lista)
}
yaml_2_R <- function(choices){
# Extraer los vectores
vector_choice_external <- sapply(choices, function(x) x$choice_external)
vector_choice_internal <- sapply(choices, function(x) x$choice_internal)
vector_files <- sapply(choices, function(x) x$file)
# Crear una lista con los vectores
resultado <- list(
choice_external = vector_choice_external,
choice_internal = vector_choice_internal,
file = vector_files
)
return(resultado)
}
dir_path <- file.path("inst", "yaml")
list_yaml <- cargar_todos_yaml(dir_path)
list_R    <- lapply(list_yaml, yaml_2_R)
list_R    <- lapply(list_R, function(x){
mi_list <- x
vector_files <- x$file
vector_files[vector_files == ""] <- NA
mi_list$file <- vector_files
mi_list
})
lapply(list_R, as.data.frame)
list_df_R <- lapply(list_R, data.frame)
df_list_R <- do.call(as.data.frame, list_R)
library(yaml)
cargar_todos_yaml <- function(dir_path) {
archivos <- list.files(dir_path, pattern = "\\.yaml$", full.names = TRUE)
lista <- list()
for (arch in archivos) {
nombre <- basename(arch)
lista[[nombre]] <- yaml.load_file(arch)$choices
}
return(lista)
}
yaml_2_R <- function(choices){
# Extraer los vectores
vector_choice_external <- sapply(choices, function(x) x$choice_external)
vector_choice_internal <- sapply(choices, function(x) x$choice_internal)
vector_files <- sapply(choices, function(x) x$file)
# Crear una lista con los vectores
resultado <- list(
choice_external = vector_choice_external,
choice_internal = vector_choice_internal,
file = vector_files
)
return(resultado)
}
dir_path <- file.path("inst", "yaml")
list_yaml <- cargar_todos_yaml(dir_path)
list_R    <- lapply(list_yaml, yaml_2_R)
list_R    <- lapply(list_R, function(x){
mi_list <- x
vector_files <- x$file
vector_files[vector_files == ""] <- NA
mi_list$file <- vector_files
mi_list
})
lapply(list_R, as.data.frame)
list_df_R <- lapply(list_R, data.frame)
df_list_R <- do.call(as.data.frame, list_R)
df_list_R
list_df_R <- lapply(list_R, data.frame)
list_df_R
library(yaml)
cargar_todos_yaml <- function(dir_path) {
archivos <- list.files(dir_path, pattern = "\\.yaml$", full.names = TRUE)
lista <- list()
for (arch in archivos) {
nombre <- basename(arch)
lista[[nombre]] <- yaml.load_file(arch)$choices
}
return(lista)
}
yaml_2_R <- function(choices){
# Extraer los vectores
vector_choice_external <- sapply(choices, function(x) x$choice_external)
vector_choice_internal <- sapply(choices, function(x) x$choice_internal)
vector_files <- sapply(choices, function(x) x$file)
vector_file_names <- tools::file_path_sans_ext(vector_files)
# Crear una lista con los vectores
resultado <- list(
choice_external = vector_choice_external,
choice_internal = vector_choice_internal,
vector_files = vector_files
vector_file_names = vector_file_names
library(yaml)
cargar_todos_yaml <- function(dir_path) {
archivos <- list.files(dir_path, pattern = "\\.yaml$", full.names = TRUE)
lista <- list()
for (arch in archivos) {
nombre <- basename(arch)
lista[[nombre]] <- yaml.load_file(arch)$choices
}
return(lista)
}
yaml_2_R <- function(choices){
# Extraer los vectores
vector_choice_external <- sapply(choices, function(x) x$choice_external)
vector_choice_internal <- sapply(choices, function(x) x$choice_internal)
vector_files <- sapply(choices, function(x) x$file)
vector_file_names <- tools::file_path_sans_ext(vector_files)
# Crear una lista con los vectores
resultado <- list(
choice_external = vector_choice_external,
choice_internal = vector_choice_internal,
vector_files = vector_files,
vector_file_names = vector_file_names
)
return(resultado)
}
dir_path <- file.path("inst", "yaml")
list_yaml <- cargar_todos_yaml(dir_path)
list_R    <- lapply(list_yaml, yaml_2_R)
list_R    <- lapply(list_R, function(x){
mi_list <- x
vector_files <- x$vector_files
vector_file_names <- x$vector_file_names
vector_files[vector_files == ""] <- NA
vector_file_names[vector_files == ""] <- NA
mi_list$vector_files <- vector_files
mi_list$vector_file_names <- vector_file_names
mi_list
})
list_df_R <- lapply(list_R, data.frame)
list_df_R
library(yaml)
cargar_todos_yaml <- function(dir_path) {
archivos <- list.files(dir_path, pattern = "\\.yaml$", full.names = TRUE)
lista <- list()
for (arch in archivos) {
nombre <- basename(arch)
lista[[nombre]] <- yaml.load_file(arch)$choices
}
return(lista)
}
yaml_2_R <- function(choices){
# Extraer los vectores
vector_choice_external <- sapply(choices, function(x) x$choice_external)
vector_choice_internal <- sapply(choices, function(x) x$choice_internal)
vector_files <- sapply(choices, function(x) x$file)
vector_file_names <- tools::file_path_sans_ext(vector_files)
# Crear una lista con los vectores
resultado <- list(
choice_external = vector_choice_external,
choice_internal = vector_choice_internal,
vector_files = vector_files,
vector_file_names = vector_file_names
)
return(resultado)
}
dir_path <- file.path("inst", "yaml")
list_yaml <- cargar_todos_yaml(dir_path)
list_R    <- lapply(list_yaml, yaml_2_R)
list_R    <- lapply(list_R, function(x){
mi_list <- x
vector_files <- x$vector_files
vector_file_names <- x$vector_file_names
vector_files[vector_files == ""] <- NA
vector_file_names[vector_file_names == ""] <- NA
mi_list$vector_files <- vector_files
mi_list$vector_file_names <- vector_file_names
mi_list
})
list_df_R <- lapply(list_R, data.frame)
list_df_R
library(yaml)
list_R    <- lapply(list_yaml, yaml_2_R)
list_R    <- lapply(list_R, function(x){
mi_list <- x
vector_files <- x$vector_files
vector_file_names <- x$vector_file_names
vector_files[vector_files == ""] <- NA
vector_file_names[vector_file_names == ""] <- NA
mi_list$vector_files <- vector_files
mi_list$vector_file_names <- vector_file_names
mi_list
})
list_df_R <- lapply(list_R, data.frame)
names(list_df_R) <- tools::file_path_sans_ext(names(list_df_R))
list_df_R
dir_path <- file.path("inst", "yaml")
list.files(dir_path, pattern = "\\.yaml$", full.names = TRUE)
list.files
dir_path <- file.path("inst", "yaml")
list.files(dir_path, pattern = "\\.yaml$", full.names = TRUE)
library(yaml)
cargar_todos_yaml <- function(dir_path) {
archivos <- list.files(dir_path, pattern = "\\.yaml$", full.names = TRUE)
lista <- list()
for (arch in archivos) {
nombre <- basename(arch)
lista[[nombre]] <- yaml.load_file(arch)$choices
}
return(lista)
}
yaml_2_R <- function(choices){
# Extraer los vectores
vector_choice_external <- sapply(choices, function(x) x$choice_external)
vector_choice_internal <- sapply(choices, function(x) x$choice_internal)
vector_files <- sapply(choices, function(x) x$file)
vector_file_names <- tools::file_path_sans_ext(vector_files)
# Crear una lista con los vectores
resultado <- list(
choice_external = vector_choice_external,
choice_internal = vector_choice_internal,
vector_files = vector_files,
vector_file_names = vector_file_names
)
return(resultado)
}
dir_path <- file.path("inst", "yaml")
list.files(dir_path, pattern = "\\.yaml$", full.names = TRUE)
list_yaml <- cargar_todos_yaml(dir_path)
list_R    <- lapply(list_yaml, yaml_2_R)
list_R    <- lapply(list_R, function(x){
mi_list <- x
vector_files <- x$vector_files
vector_file_names <- x$vector_file_names
vector_files[vector_files == ""] <- NA
vector_file_names[vector_file_names == ""] <- NA
mi_list$vector_files <- vector_files
mi_list$vector_file_names <- vector_file_names
mi_list
})
list_df_R <- lapply(list_R, data.frame)
names(list_df_R) <- tools::file_path_sans_ext(names(list_df_R))
df_list_R <- do.call(as.data.frame, list_R)
library(yaml)
cargar_todos_yaml <- function(dir_path) {
archivos <- list.files(dir_path, pattern = "\\.yaml$", full.names = TRUE)
lista <- list()
for (arch in archivos) {
nombre <- basename(arch)
lista[[nombre]] <- yaml.load_file(arch)$choices
}
return(lista)
}
yaml_2_R <- function(choices){
# Extraer los vectores
vector_choice_external <- sapply(choices, function(x) x$choice_external)
vector_choice_internal <- sapply(choices, function(x) x$choice_internal)
vector_files <- sapply(choices, function(x) x$file)
vector_file_names <- tools::file_path_sans_ext(vector_files)
# Crear una lista con los vectores
resultado <- list(
choice_external = vector_choice_external,
choice_internal = vector_choice_internal,
vector_files = vector_files,
vector_file_names = vector_file_names
)
return(resultado)
}
dir_path <- file.path("inst", "yaml")
list.files(dir_path, pattern = "\\.yaml$", full.names = TRUE)
list_yaml <- cargar_todos_yaml(dir_path)
list_R    <- lapply(list_yaml, yaml_2_R)
list_R    <- lapply(list_R, function(x){
mi_list <- x
vector_files <- x$vector_files
vector_file_names <- x$vector_file_names
vector_files[vector_files == ""] <- NA
vector_file_names[vector_file_names == ""] <- NA
mi_list$vector_files <- vector_files
mi_list$vector_file_names <- vector_file_names
mi_list
})
list_df_R <- lapply(list_R, data.frame)
names(list_df_R) <- tools::file_path_sans_ext(names(list_df_R))
list_df_R
list_df_R
library(yaml)
library(tools)
cargar_todos_yaml <- function(dir_path) {
archivos <- list.files(dir_path, pattern = "\\.yaml$", full.names = TRUE)
lista <- list()
for (arch in archivos) {
nombre <- basename(arch)
lista[[nombre]] <- yaml.load_file(arch)$choices
}
return(lista)
}
yaml_2_R <- function(choices){
# Extraer los vectores
vector_choice_external <- sapply(choices, function(x) x$choice_external)
vector_choice_internal <- sapply(choices, function(x) x$choice_internal)
vector_files <- sapply(choices, function(x) x$file)
vector_file_names <- tools::file_path_sans_ext(vector_files)
# Crear una lista con los vectores
resultado <- list(
choice_external = vector_choice_external,
choice_internal = vector_choice_internal,
vector_files = vector_files,
vector_file_names = vector_file_names
)
return(resultado)
}
dir_path <- file.path("inst", "yaml")
list_yaml <- cargar_todos_yaml(dir_path)
list_R    <- lapply(list_yaml, yaml_2_R)
list_R    <- lapply(list_R, function(x){
mi_list <- x
vector_files <- x$vector_files
vector_file_names <- x$vector_file_names
vector_files[vector_files == ""] <- NA
vector_file_names[vector_file_names == ""] <- NA
mi_list$vector_files <- vector_files
mi_list$vector_file_names <- vector_file_names
mi_list
})
list_df_R <- lapply(list_R, data.frame)
names(list_df_R) <- tools::file_path_sans_ext(names(list_df_R))
# En el UI
ui <- fluidPage(
titlePanel("Generador dinámico de selectInput"),
uiOutput("todos_selects")
)
# En el servidor
server <- function(input, output, session) {
# Asumiendo que ya tienes 'mis_listas' cargada con tus estructuras
# Aquí por ejemplo creamos dummy
mis_listas <- list_df_R
output$todos_selects <- renderUI({
ui_list <- lapply(names(list_df_R), function(x) {
selected_list <- list_df_R [[x]]
vector_choices <- selected_list$choice_internal
selectInput(paste0("sel_", x), paste("Selecciona en", X), vector_choices)
})
do.call(tagList, ui_list)
})
}
shinyApp(ui, server)
library(yaml)
library(tools)
cargar_todos_yaml <- function(dir_path) {
archivos <- list.files(dir_path, pattern = "\\.yaml$", full.names = TRUE)
lista <- list()
for (arch in archivos) {
nombre <- basename(arch)
lista[[nombre]] <- yaml.load_file(arch)$choices
}
return(lista)
}
yaml_2_R <- function(choices){
# Extraer los vectores
vector_choice_external <- sapply(choices, function(x) x$choice_external)
vector_choice_internal <- sapply(choices, function(x) x$choice_internal)
vector_files <- sapply(choices, function(x) x$file)
vector_file_names <- tools::file_path_sans_ext(vector_files)
# Crear una lista con los vectores
resultado <- list(
choice_external = vector_choice_external,
choice_internal = vector_choice_internal,
vector_files = vector_files,
vector_file_names = vector_file_names
)
return(resultado)
}
dir_path <- file.path("inst", "yaml")
list_yaml <- cargar_todos_yaml(dir_path)
list_R    <- lapply(list_yaml, yaml_2_R)
list_R    <- lapply(list_R, function(x){
mi_list <- x
vector_files <- x$vector_files
vector_file_names <- x$vector_file_names
vector_files[vector_files == ""] <- NA
vector_file_names[vector_file_names == ""] <- NA
mi_list$vector_files <- vector_files
mi_list$vector_file_names <- vector_file_names
mi_list
})
list_df_R <- lapply(list_R, data.frame)
names(list_df_R) <- tools::file_path_sans_ext(names(list_df_R))
# En el UI
ui <- fluidPage(
titlePanel("Generador dinámico de selectInput"),
uiOutput("todos_selects")
)
# En el servidor
server <- function(input, output, session) {
# Asumiendo que ya tienes 'mis_listas' cargada con tus estructuras
# Aquí por ejemplo creamos dummy
mis_listas <- list_df_R
output$todos_selects <- renderUI({
ui_list <- lapply(names(list_df_R), function(x) {
selected_list <- list_df_R [[x]]
vector_choices <- selected_list$choice_internal
selectInput(paste0("sel_", x), paste("Selecciona en", x), vector_choices)
})
do.call(tagList, ui_list)
})
}
shinyApp(ui, server)
